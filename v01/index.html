<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<title>Blueprint: Tooltip Menu</title>
		<meta name="description" content="Blueprint: Tooltip Menu" />
		<meta name="keywords" content="Tooltip Menu, navigation, tooltip, menu, css, web development, template" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/default.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
        <link rel="stylesheet" type="text/css" href="css/leaflet.css" />
        <script src="js/leaflet.js"></script>
		<script src="js/modernizr.custom.js"></script>
        <script src="js/leaflet.ajax.min.js"></script>
                <style>
            body { margin:0; padding:0; }
            #map { position:fixed; top:150px; bottom:0; width:100%; }
</style>
	</head>
	<body>
		<div class="container">
			<header class="clearfix">
				<span>maptime:LA's</span>
				<h1>Spatial List of Pizza</h1>
				<nav>
					<a href="http://tympanus.net/Blueprints/ProductGridLayout/" class="bp-icon bp-icon-prev" data-info="previous Blueprint"><span>Previous Blueprint</span></a>
					<!--a href="" class="bp-icon bp-icon-next" data-info="next Blueprint"><span>Next Blueprint</span></a-->
					<a href="http://tympanus.net/codrops/?p=15212" class="bp-icon bp-icon-drop" data-info="back to the Codrops article"><span>back to the Codrops article</span></a>
					<a href="http://tympanus.net/codrops/category/blueprints/" class="bp-icon bp-icon-archive" data-info="Blueprints archive"><span>Go to the archive</span></a>
				</nav>
			</header>	
<!--map loads here-->        
<div id='map'></div>
<script>

//This Controls the hover over feature functions    
    function style(feature) {
			return {
				weight: 2,
				opacity: 1,
				color: 'white',
				dashArray: '3',
				fillOpacity: 0.7,
				fillColor: '#47a3da'
			};
		}

    function highlightFeature(e) {
			var layer = e.target;

			layer.setStyle({
				weight: 5,
				color: '#666',
				dashArray: '',
				fillOpacity: 0.7
			});

			if (!L.Browser.ie && !L.Browser.opera) {
				layer.bringToFront();
			}
		}

		function resetHighlight(e) {
			countysim.resetStyle(e.target);

		}

		function zoomToFeature(e) {
			map.fitBounds(e.target.getBounds());
            
            zoomloadlayer();
		}

    		function onEachFeature(feature, layer) {
			layer.on({
				mouseover: highlightFeature,
				mouseout: resetHighlight,
				click: zoomToFeature
			});
		}
//end of Hover over features
    
//Test Function for adding layer at fitBounds    
function zoomloadlayer(){
map.addLayer(citysim);
}
    
//This loads the map    
var map = L.map('map')
    .setView([36.745487, -119.553223], 6);

var stamenLayer = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}.png', {
attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'
}).addTo(map);
    
            var countylines = {
			"clickable": true,
			"color": "#47a3da",
			"fillColor": "#47a3da",
			"weight":2.0,
			"opacity": 1,
			"fillOpacity": 0.2
			};     
//end of map    


//This is the geojson    
var countysim = new L.geoJson.ajax("js/geojson/countysimple.geojson", {
    style: style,
    onEachFeature: onEachFeature
    }).addTo(map); 
    
var citysim = new L.geoJson.ajax("js/geojson/citysimple.geojson", {
    style: style,
    onEachFeature: onEachFeature
    });     
    
</script>
			<ul id="cbp-tm-menu" class="cbp-tm-menu">
				<li>
					<a href="#">Home</a>
				</li>
				<li>
					<a href="#">Federal</a>
					<ul class="cbp-tm-submenu">
						<li><a href="#" class="cbp-tm-icon-archive">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-cog">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-location">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-users">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-earth">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-location">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-mobile">Name</a></li>
					</ul>
				</li>
				<li>
					<a href="#">State</a>
					<ul class="cbp-tm-submenu">
						<li><a href="#" class="cbp-tm-icon-archive">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-cog">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-link">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-users">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-earth">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-location">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-mobile">Name</a></li>
					</ul>
				</li>
				<li>
					<a href="#">Regional</a>
					<ul class="cbp-tm-submenu">
						<li><a href="#" class="cbp-tm-icon-screen">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-mail">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-contract">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-pencil">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-article">Name</a></li>
						<li><a href="#" class="cbp-tm-icon-clock">Name</a></li>
					</ul>
				</li>
                <li>
					<a href="#">County</a>
					<ul class="cbp-tm-submenu">
						<li><a href="#" class="cbp-tm-icon-screen">Los Angeles</a></li>
						<li><a href="#" class="cbp-tm-icon-mail">San Diego</a></li>
						<li><a href="#" class="cbp-tm-icon-contract">Riverside</a></li>
						<li><a href="#" class="cbp-tm-icon-pencil">Orange</a></li>
						<li><a href="#" class="cbp-tm-icon-article">San Bernardino</a></li>
						<li><a href="#" class="cbp-tm-icon-clock">Imperial</a></li>
					</ul>
				</li>
			</ul>
			<div class="filler-below"></div>
		</div>
		<script src="js/cbpTooltipMenu.min.js"></script>
		<script>
			var menu = new cbpTooltipMenu( document.getElementById( 'cbp-tm-menu' ) );
		</script>
	</body>
</html>
